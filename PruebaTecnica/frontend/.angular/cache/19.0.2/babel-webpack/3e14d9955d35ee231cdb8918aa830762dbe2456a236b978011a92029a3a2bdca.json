{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/cliente.service\";\nimport * as i2 from \"@angular/router\";\nexport let PantallaBusquedaComponent = /*#__PURE__*/(() => {\n  class PantallaBusquedaComponent {\n    constructor(clienteService, router) {\n      this.clienteService = clienteService;\n      this.router = router;\n      this.tipoDocumento = '';\n      this.numeroDocumento = '';\n      this.botonHabilitado = false;\n      // Lista de tipos de documento para un control más fácil en el template\n      this.tiposDocumento = ['DNI', 'RUC', 'Carnet Extranjería'];\n    }\n    // Verifica que los campos no estén vacíos y que el número de documento tenga un formato válido\n    verificarCampos() {\n      this.botonHabilitado = this.tipoDocumento !== '' && /^\\d{8,11}$/.test(this.numeroDocumento);\n    }\n    // Llama al servicio y navega al resumen o muestra un error\n    buscarCliente() {\n      this.clienteService.obtenerCliente({\n        tipo: this.tipoDocumento,\n        numero: this.numeroDocumento\n      }).subscribe(cliente => {\n        // Verifica si el cliente existe antes de navegar\n        if (cliente) {\n          sessionStorage.setItem('cliente', JSON.stringify(cliente));\n          this.router.navigate(['/resumen']);\n        } else {\n          alert('Cliente no encontrado.');\n        }\n      }, () => {\n        alert('Error en el servidor o no se pudo encontrar al cliente.');\n      });\n    }\n    static {\n      this.ɵfac = function PantallaBusquedaComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || PantallaBusquedaComponent)(i0.ɵɵdirectiveInject(i1.ClienteService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PantallaBusquedaComponent,\n        selectors: [[\"app-pantalla-busqueda\"]],\n        decls: 23,\n        vars: 3,\n        consts: [[1, \"container\", \"mt-5\"], [1, \"text-center\"], [1, \"card\", \"p-4\", \"shadow\"], [1, \"form-group\", \"mb-3\"], [\"for\", \"tipoDocumento\"], [\"id\", \"tipoDocumento\", \"name\", \"tipoDocumento\", 1, \"form-select\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [\"value\", \"C\"], [\"value\", \"P\"], [\"for\", \"numeroDocumento\"], [\"type\", \"text\", \"id\", \"numeroDocumento\", \"name\", \"numeroDocumento\", \"placeholder\", \"Ej: 1.234.567\", 1, \"form-control\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [1, \"form-text\", \"text-muted\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"w-100\", 3, \"click\", \"disabled\"]],\n        template: function PantallaBusquedaComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n            i0.ɵɵtext(2, \"Consulta de Cliente\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 2)(4, \"form\")(5, \"div\", 3)(6, \"label\", 4);\n            i0.ɵɵtext(7, \"Tipo de Documento\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"select\", 5);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function PantallaBusquedaComponent_Template_select_ngModelChange_8_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.tipoDocumento, $event) || (ctx.tipoDocumento = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"change\", function PantallaBusquedaComponent_Template_select_change_8_listener() {\n              return ctx.verificarCampos();\n            });\n            i0.ɵɵelementStart(9, \"option\", 6);\n            i0.ɵɵtext(10, \"Seleccione...\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"option\", 7);\n            i0.ɵɵtext(12, \"C\\u00E9dula de Ciudadan\\u00EDa\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"option\", 8);\n            i0.ɵɵtext(14, \"Pasaporte\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(15, \"div\", 3)(16, \"label\", 9);\n            i0.ɵɵtext(17, \"N\\u00FAmero de Documento\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"input\", 10);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function PantallaBusquedaComponent_Template_input_ngModelChange_18_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.numeroDocumento, $event) || (ctx.numeroDocumento = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"input\", function PantallaBusquedaComponent_Template_input_input_18_listener() {\n              return ctx.verificarCampos();\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"small\", 11);\n            i0.ɵɵtext(20, \"Debe tener entre 8 y 11 d\\u00EDgitos.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(21, \"button\", 12);\n            i0.ɵɵlistener(\"click\", function PantallaBusquedaComponent_Template_button_click_21_listener() {\n              return ctx.buscarCliente();\n            });\n            i0.ɵɵtext(22, \" Buscar \");\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(8);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.tipoDocumento);\n            i0.ɵɵadvance(10);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.numeroDocumento);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"disabled\", !ctx.botonHabilitado);\n          }\n        },\n        styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n      });\n    }\n  }\n  return PantallaBusquedaComponent;\n})();","map":{"version":3,"names":["PantallaBusquedaComponent","constructor","clienteService","router","tipoDocumento","numeroDocumento","botonHabilitado","tiposDocumento","verificarCampos","test","buscarCliente","obtenerCliente","tipo","numero","subscribe","cliente","sessionStorage","setItem","JSON","stringify","navigate","alert","i0","ɵɵdirectiveInject","i1","ClienteService","i2","Router","selectors","decls","vars","consts","template","PantallaBusquedaComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtwoWayListener","PantallaBusquedaComponent_Template_select_ngModelChange_8_listener","$event","ɵɵtwoWayBindingSet","ɵɵlistener","PantallaBusquedaComponent_Template_select_change_8_listener","PantallaBusquedaComponent_Template_input_ngModelChange_18_listener","PantallaBusquedaComponent_Template_input_input_18_listener","PantallaBusquedaComponent_Template_button_click_21_listener","ɵɵadvance","ɵɵtwoWayProperty","ɵɵproperty"],"sources":["/workspaces/PruebaTecnica/PruebaTecnica/frontend/src/app/components/pantalla-busqueda/pantalla-busqueda.component.ts","/workspaces/PruebaTecnica/PruebaTecnica/frontend/src/app/components/pantalla-busqueda/pantalla-busqueda.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ClienteService } from '../../services/cliente.service';\r\n\r\n@Component({\r\n  selector: 'app-pantalla-busqueda',\r\n  templateUrl: './pantalla-busqueda.component.html',\r\n  styleUrls: ['./pantalla-busqueda.component.css']\r\n})\r\nexport class PantallaBusquedaComponent {\r\n  tipoDocumento = '';\r\n  numeroDocumento = '';\r\n  botonHabilitado = false;\r\n\r\n  // Lista de tipos de documento para un control más fácil en el template\r\n  tiposDocumento: string[] = ['DNI', 'RUC', 'Carnet Extranjería'];\r\n\r\n  constructor(private clienteService: ClienteService, private router: Router) {}\r\n\r\n  // Verifica que los campos no estén vacíos y que el número de documento tenga un formato válido\r\n  verificarCampos() {\r\n    this.botonHabilitado = this.tipoDocumento !== '' && /^\\d{8,11}$/.test(this.numeroDocumento);\r\n  }\r\n\r\n  // Llama al servicio y navega al resumen o muestra un error\r\n  buscarCliente() {\r\n    this.clienteService.obtenerCliente({ tipo: this.tipoDocumento, numero: this.numeroDocumento })\r\n      .subscribe(cliente => {\r\n        // Verifica si el cliente existe antes de navegar\r\n        if (cliente) {\r\n          sessionStorage.setItem('cliente', JSON.stringify(cliente));\r\n          this.router.navigate(['/resumen']);\r\n        } else {\r\n          alert('Cliente no encontrado.');\r\n        }\r\n      }, () => {\r\n        alert('Error en el servidor o no se pudo encontrar al cliente.');\r\n      });\r\n  }\r\n}\r\n","<div class=\"container mt-5\">\r\n    <h2 class=\"text-center\">Consulta de Cliente</h2>\r\n    <div class=\"card p-4 shadow\">\r\n      <form>\r\n        <div class=\"form-group mb-3\">\r\n          <label for=\"tipoDocumento\">Tipo de Documento</label>\r\n          <select\r\n            class=\"form-select\"\r\n            id=\"tipoDocumento\"\r\n            [(ngModel)]=\"tipoDocumento\"\r\n            name=\"tipoDocumento\"\r\n            (change)=\"verificarCampos()\"\r\n          >\r\n            <option value=\"\" disabled selected>Seleccione...</option>\r\n            <option value=\"C\">Cédula de Ciudadanía</option>\r\n            <option value=\"P\">Pasaporte</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"form-group mb-3\">\r\n          <label for=\"numeroDocumento\">Número de Documento</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"numeroDocumento\"\r\n            class=\"form-control\"\r\n            [(ngModel)]=\"numeroDocumento\"\r\n            name=\"numeroDocumento\"\r\n            (input)=\"verificarCampos()\"\r\n            placeholder=\"Ej: 1.234.567\"\r\n          />\r\n          <small class=\"form-text text-muted\">Debe tener entre 8 y 11 dígitos.</small>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-primary w-100\"\r\n          [disabled]=\"!botonHabilitado\"\r\n          (click)=\"buscarCliente()\"\r\n        >\r\n          Buscar\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}