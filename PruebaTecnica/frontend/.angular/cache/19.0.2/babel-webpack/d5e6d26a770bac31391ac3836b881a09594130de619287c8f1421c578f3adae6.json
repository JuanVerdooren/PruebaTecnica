{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/cliente.service\";\nimport * as i2 from \"@angular/router\";\nexport let PantallaBusquedaComponent = /*#__PURE__*/(() => {\n  class PantallaBusquedaComponent {\n    constructor(clienteService, router) {\n      this.clienteService = clienteService;\n      this.router = router;\n      this.tipoDocumento = '';\n      this.numeroDocumento = '';\n      this.botonHabilitado = false;\n      // Lista de tipos de documento para un control más fácil en el template\n      this.tiposDocumento = ['DNI', 'RUC', 'Carnet Extranjería'];\n    }\n    // Verifica que los campos no estén vacíos y que el número de documento tenga un formato válido\n    verificarCampos() {\n      this.botonHabilitado = this.tipoDocumento !== '' && /^\\d{8,11}$/.test(this.numeroDocumento);\n    }\n    // Llama al servicio y navega al resumen o muestra un error\n    buscarCliente() {\n      this.clienteService.obtenerCliente({\n        tipo: this.tipoDocumento,\n        numero: this.numeroDocumento\n      }).subscribe(cliente => {\n        // Verifica si el cliente existe antes de navegar\n        if (cliente) {\n          sessionStorage.setItem('cliente', JSON.stringify(cliente));\n          this.router.navigate(['/resumen']);\n        } else {\n          alert('Cliente no encontrado.');\n        }\n      }, () => {\n        alert('Error en el servidor o no se pudo encontrar al cliente.');\n      });\n    }\n    static {\n      this.ɵfac = function PantallaBusquedaComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || PantallaBusquedaComponent)(i0.ɵɵdirectiveInject(i1.ClienteService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PantallaBusquedaComponent,\n        selectors: [[\"app-pantalla-busqueda\"]],\n        decls: 18,\n        vars: 3,\n        consts: [[1, \"form-container\"], [1, \"form-group\"], [\"for\", \"tipoDocumento\", 1, \"form-label\"], [\"id\", \"tipoDocumento\", 1, \"form-select\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [\"value\", \"CC\"], [\"value\", \"TI\"], [\"for\", \"numeroDocumento\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"numeroDocumento\", \"placeholder\", \"Ingresa tu n\\u00FAmero de documento\", \"maxlength\", \"11\", 1, \"form-input\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"]],\n        template: function PantallaBusquedaComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"label\", 2);\n            i0.ɵɵtext(3, \"Tipo de Documento:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"select\", 3);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function PantallaBusquedaComponent_Template_select_ngModelChange_4_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.tipoDocumento, $event) || (ctx.tipoDocumento = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"change\", function PantallaBusquedaComponent_Template_select_change_4_listener() {\n              return ctx.verificarCampos();\n            });\n            i0.ɵɵelementStart(5, \"option\", 4);\n            i0.ɵɵtext(6, \"Selecciona un tipo\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"option\", 5);\n            i0.ɵɵtext(8, \"C\\u00E9dula de Ciudadan\\u00EDa\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"option\", 6);\n            i0.ɵɵtext(10, \"Tarjeta de Identidad\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(11, \"div\", 1)(12, \"label\", 7);\n            i0.ɵɵtext(13, \"N\\u00FAmero de Documento:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"input\", 8);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function PantallaBusquedaComponent_Template_input_ngModelChange_14_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.numeroDocumento, $event) || (ctx.numeroDocumento = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"input\", function PantallaBusquedaComponent_Template_input_input_14_listener() {\n              return ctx.verificarCampos();\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(15, \"div\", 1)(16, \"button\", 9);\n            i0.ɵɵlistener(\"click\", function PantallaBusquedaComponent_Template_button_click_16_listener() {\n              return ctx.buscarCliente();\n            });\n            i0.ɵɵtext(17, \" Buscar Cliente \");\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.tipoDocumento);\n            i0.ɵɵadvance(10);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.numeroDocumento);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", !ctx.botonHabilitado);\n          }\n        },\n        styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n      });\n    }\n  }\n  return PantallaBusquedaComponent;\n})();","map":{"version":3,"names":["PantallaBusquedaComponent","constructor","clienteService","router","tipoDocumento","numeroDocumento","botonHabilitado","tiposDocumento","verificarCampos","test","buscarCliente","obtenerCliente","tipo","numero","subscribe","cliente","sessionStorage","setItem","JSON","stringify","navigate","alert","i0","ɵɵdirectiveInject","i1","ClienteService","i2","Router","selectors","decls","vars","consts","template","PantallaBusquedaComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtwoWayListener","PantallaBusquedaComponent_Template_select_ngModelChange_4_listener","$event","ɵɵtwoWayBindingSet","ɵɵlistener","PantallaBusquedaComponent_Template_select_change_4_listener","PantallaBusquedaComponent_Template_input_ngModelChange_14_listener","PantallaBusquedaComponent_Template_input_input_14_listener","PantallaBusquedaComponent_Template_button_click_16_listener","ɵɵadvance","ɵɵtwoWayProperty","ɵɵproperty"],"sources":["/workspaces/PruebaTecnica/PruebaTecnica/frontend/src/app/components/pantalla-busqueda/pantalla-busqueda.component.ts","/workspaces/PruebaTecnica/PruebaTecnica/frontend/src/app/components/pantalla-busqueda/pantalla-busqueda.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ClienteService } from '../../services/cliente.service';\r\n\r\n@Component({\r\n  selector: 'app-pantalla-busqueda',\r\n  templateUrl: './pantalla-busqueda.component.html', // Ruta corregida\r\n  styleUrls: ['./pantalla-busqueda.component.css']\r\n})\r\n\r\nexport class PantallaBusquedaComponent {\r\n  tipoDocumento = '';\r\n  numeroDocumento = '';\r\n  botonHabilitado = false;\r\n\r\n  // Lista de tipos de documento para un control más fácil en el template\r\n  tiposDocumento: string[] = ['DNI', 'RUC', 'Carnet Extranjería'];\r\n\r\n  constructor(private clienteService: ClienteService, private router: Router) {}\r\n\r\n  // Verifica que los campos no estén vacíos y que el número de documento tenga un formato válido\r\n  verificarCampos() {\r\n    this.botonHabilitado = this.tipoDocumento !== '' && /^\\d{8,11}$/.test(this.numeroDocumento);\r\n  }\r\n\r\n  // Llama al servicio y navega al resumen o muestra un error\r\n  buscarCliente() {\r\n    this.clienteService.obtenerCliente({ tipo: this.tipoDocumento, numero: this.numeroDocumento })\r\n      .subscribe(cliente => {\r\n        // Verifica si el cliente existe antes de navegar\r\n        if (cliente) {\r\n          sessionStorage.setItem('cliente', JSON.stringify(cliente));\r\n          this.router.navigate(['/resumen']);\r\n        } else {\r\n          alert('Cliente no encontrado.');\r\n        }\r\n      }, () => {\r\n        alert('Error en el servidor o no se pudo encontrar al cliente.');\r\n      });\r\n  }\r\n}\r\n","<div class=\"form-container\">\r\n  <!-- Selección de Tipo de Documento -->\r\n  <div class=\"form-group\">\r\n    <label for=\"tipoDocumento\" class=\"form-label\">Tipo de Documento:</label>\r\n    <select\r\n      id=\"tipoDocumento\"\r\n      class=\"form-select\"\r\n      [(ngModel)]=\"tipoDocumento\"\r\n      (change)=\"verificarCampos()\"\r\n    >\r\n      <option value=\"\" disabled selected>Selecciona un tipo</option>\r\n      <option value=\"CC\">Cédula de Ciudadanía</option>\r\n      <option value=\"TI\">Tarjeta de Identidad</option>\r\n    </select>\r\n  </div>\r\n\r\n  <!-- Entrada de Número de Documento -->\r\n  <div class=\"form-group\">\r\n    <label for=\"numeroDocumento\" class=\"form-label\">Número de Documento:</label>\r\n    <input\r\n      type=\"text\"\r\n      id=\"numeroDocumento\"\r\n      class=\"form-input\"\r\n      [(ngModel)]=\"numeroDocumento\"\r\n      (input)=\"verificarCampos()\"\r\n      placeholder=\"Ingresa tu número de documento\"\r\n      maxlength=\"11\"\r\n    />\r\n  </div>\r\n\r\n  <!-- Botón de Búsqueda -->\r\n  <div class=\"form-group\">\r\n    <button\r\n      class=\"btn btn-primary\"\r\n      [disabled]=\"!botonHabilitado\"\r\n      (click)=\"buscarCliente()\"\r\n    >\r\n      Buscar Cliente\r\n    </button>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}