{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/cliente.service\";\nimport * as i2 from \"@angular/router\";\nfunction PantallaBusquedaComponent_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tipo_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", tipo_r1.valor);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", tipo_r1.descripcion, \" \");\n  }\n}\nexport let PantallaBusquedaComponent = /*#__PURE__*/(() => {\n  class PantallaBusquedaComponent {\n    constructor(clienteService, router) {\n      this.clienteService = clienteService;\n      this.router = router;\n      this.tipoDocumento = '';\n      this.numeroDocumento = '';\n      this.botonHabilitado = false;\n      // Lista de tipos de documento para usar en el select del template\n      this.tiposDocumento = [{\n        valor: 'CC',\n        descripcion: 'Cédula de Ciudadanía'\n      }, {\n        valor: 'TI',\n        descripcion: 'Tarjeta de Identidad'\n      }, {\n        valor: 'CE',\n        descripcion: 'Carnet de Extranjería'\n      }];\n    }\n    // Actualiza el estado del botón según los campos\n    verificarCampos() {\n      this.botonHabilitado = this.tipoDocumento !== '' && /^\\d{8,11}$/.test(this.numeroDocumento.trim());\n    }\n    // Lógica para buscar al cliente y redirigir si se encuentra\n    buscarCliente() {\n      this.clienteService.obtenerCliente({\n        tipo: this.tipoDocumento,\n        numero: this.numeroDocumento\n      }).subscribe({\n        next: cliente => {\n          if (cliente) {\n            sessionStorage.setItem('cliente', JSON.stringify(cliente));\n            this.router.navigate(['/resumen']);\n          } else {\n            alert('Cliente no encontrado.');\n          }\n        },\n        error: () => {\n          alert('Error en el servidor o no se pudo encontrar al cliente.');\n        }\n      });\n    }\n    static {\n      this.ɵfac = function PantallaBusquedaComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || PantallaBusquedaComponent)(i0.ɵɵdirectiveInject(i1.ClienteService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PantallaBusquedaComponent,\n        selectors: [[\"app-pantalla-busqueda\"]],\n        decls: 15,\n        vars: 4,\n        consts: [[1, \"form-container\"], [1, \"form-group\"], [\"for\", \"tipoDocumento\", 1, \"form-label\"], [\"id\", \"tipoDocumento\", 1, \"form-select\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"numeroDocumento\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"numeroDocumento\", \"placeholder\", \"Ingresa tu n\\u00FAmero de documento\", \"maxlength\", \"11\", 1, \"form-input\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [3, \"value\"]],\n        template: function PantallaBusquedaComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"label\", 2);\n            i0.ɵɵtext(3, \"Tipo de Documento:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"select\", 3);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function PantallaBusquedaComponent_Template_select_ngModelChange_4_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.tipoDocumento, $event) || (ctx.tipoDocumento = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"change\", function PantallaBusquedaComponent_Template_select_change_4_listener() {\n              return ctx.verificarCampos();\n            });\n            i0.ɵɵelementStart(5, \"option\", 4);\n            i0.ɵɵtext(6, \"Selecciona un tipo\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(7, PantallaBusquedaComponent_option_7_Template, 2, 2, \"option\", 5);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"div\", 1)(9, \"label\", 6);\n            i0.ɵɵtext(10, \"N\\u00FAmero de Documento:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"input\", 7);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function PantallaBusquedaComponent_Template_input_ngModelChange_11_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.numeroDocumento, $event) || (ctx.numeroDocumento = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"input\", function PantallaBusquedaComponent_Template_input_input_11_listener() {\n              return ctx.verificarCampos();\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(12, \"div\", 1)(13, \"button\", 8);\n            i0.ɵɵlistener(\"click\", function PantallaBusquedaComponent_Template_button_click_13_listener() {\n              return ctx.buscarCliente();\n            });\n            i0.ɵɵtext(14, \" Buscar Cliente \");\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.tipoDocumento);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.tiposDocumento);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.numeroDocumento);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", !ctx.botonHabilitado);\n          }\n        },\n        styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n      });\n    }\n  }\n  return PantallaBusquedaComponent;\n})();","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","tipo_r1","valor","ɵɵadvance","ɵɵtextInterpolate1","descripcion","PantallaBusquedaComponent","constructor","clienteService","router","tipoDocumento","numeroDocumento","botonHabilitado","tiposDocumento","verificarCampos","test","trim","buscarCliente","obtenerCliente","tipo","numero","subscribe","next","cliente","sessionStorage","setItem","JSON","stringify","navigate","alert","error","ɵɵdirectiveInject","i1","ClienteService","i2","Router","selectors","decls","vars","consts","template","PantallaBusquedaComponent_Template","rf","ctx","ɵɵtwoWayListener","PantallaBusquedaComponent_Template_select_ngModelChange_4_listener","$event","ɵɵtwoWayBindingSet","ɵɵlistener","PantallaBusquedaComponent_Template_select_change_4_listener","ɵɵtemplate","PantallaBusquedaComponent_option_7_Template","PantallaBusquedaComponent_Template_input_ngModelChange_11_listener","PantallaBusquedaComponent_Template_input_input_11_listener","PantallaBusquedaComponent_Template_button_click_13_listener","ɵɵtwoWayProperty"],"sources":["/workspaces/PruebaTecnica/PruebaTecnica/frontend/src/app/components/pantalla-busqueda/pantalla-busqueda.component.ts","/workspaces/PruebaTecnica/PruebaTecnica/frontend/src/app/components/pantalla-busqueda/pantalla-busqueda.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ClienteService } from '../../services/cliente.service';\r\n\r\n@Component({\r\n  selector: 'app-pantalla-busqueda',\r\n  templateUrl: './pantalla-busqueda.component.html', \r\n  styleUrls: ['./pantalla-busqueda.component.css']\r\n})\r\nexport class PantallaBusquedaComponent {\r\n  tipoDocumento: string = '';\r\n  numeroDocumento: string = '';\r\n  botonHabilitado: boolean = false;\r\n\r\n  // Lista de tipos de documento para usar en el select del template\r\n  tiposDocumento: { valor: string, descripcion: string }[] = [\r\n    { valor: 'CC', descripcion: 'Cédula de Ciudadanía' },\r\n    { valor: 'TI', descripcion: 'Tarjeta de Identidad' },\r\n    { valor: 'CE', descripcion: 'Carnet de Extranjería' }\r\n  ];\r\n\r\n  constructor(private clienteService: ClienteService, private router: Router) {}\r\n\r\n  // Actualiza el estado del botón según los campos\r\n  verificarCampos() {\r\n    this.botonHabilitado = this.tipoDocumento !== '' && /^\\d{8,11}$/.test(this.numeroDocumento.trim());\r\n  }\r\n\r\n  // Lógica para buscar al cliente y redirigir si se encuentra\r\n  buscarCliente() {\r\n    this.clienteService.obtenerCliente({\r\n      tipo: this.tipoDocumento,\r\n      numero: this.numeroDocumento\r\n    }).subscribe({\r\n      next: cliente => {\r\n        if (cliente) {\r\n          sessionStorage.setItem('cliente', JSON.stringify(cliente));\r\n          this.router.navigate(['/resumen']);\r\n        } else {\r\n          alert('Cliente no encontrado.');\r\n        }\r\n      },\r\n      error: () => {\r\n        alert('Error en el servidor o no se pudo encontrar al cliente.');\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"form-container\">\r\n  <!-- Selección de Tipo de Documento -->\r\n  <div class=\"form-group\">\r\n    <label for=\"tipoDocumento\" class=\"form-label\">Tipo de Documento:</label>\r\n    <select\r\n      id=\"tipoDocumento\"\r\n      class=\"form-select\"\r\n      [(ngModel)]=\"tipoDocumento\"\r\n      (change)=\"verificarCampos()\"\r\n    >\r\n      <option value=\"\" disabled selected>Selecciona un tipo</option>\r\n      <option *ngFor=\"let tipo of tiposDocumento\" [value]=\"tipo.valor\">\r\n        {{ tipo.descripcion }}\r\n      </option>\r\n    </select>\r\n  </div>\r\n\r\n  <!-- Entrada de Número de Documento -->\r\n  <div class=\"form-group\">\r\n    <label for=\"numeroDocumento\" class=\"form-label\">Número de Documento:</label>\r\n    <input\r\n      type=\"text\"\r\n      id=\"numeroDocumento\"\r\n      class=\"form-input\"\r\n      [(ngModel)]=\"numeroDocumento\"\r\n      (input)=\"verificarCampos()\"\r\n      placeholder=\"Ingresa tu número de documento\"\r\n      maxlength=\"11\"\r\n    />\r\n  </div>\r\n\r\n  <!-- Botón de Búsqueda -->\r\n  <div class=\"form-group\">\r\n    <button\r\n      class=\"btn btn-primary\"\r\n      [disabled]=\"!botonHabilitado\"\r\n      (click)=\"buscarCliente()\"\r\n    >\r\n      Buscar Cliente\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}